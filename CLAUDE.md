# Telegram WebApp ‚Äî Mini App

–û–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (HTML/CSS/JS), –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∫ Telegram Mini App —á–µ—Ä–µ–∑ WebView.
–î–æ–ª–∂–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö (iOS/Android) –∏ –¥–µ—Å–∫—Ç–æ–ø–µ (Telegram Desktop, Telegram Web).

## –°—Ç–µ–∫

- –ß–∏—Å—Ç—ã–π HTML5, CSS3, JavaScript (ES modules)
- –ë–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤, –±–µ–∑ —Å–±–æ—Ä—â–∏–∫–æ–≤
- Telegram Web App SDK: `<script src="https://telegram.org/js/telegram-web-app.js"></script>`
- –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞: `index.html`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/
‚îú‚îÄ‚îÄ index.html          # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ
‚îú‚îÄ‚îÄ style.css           # –°—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ app.js              # –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ notify.sh           # –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram
‚îú‚îÄ‚îÄ codex-review.sh     # –°–∫—Ä–∏–ø—Ç –¥–ª—è code review —á–µ—Ä–µ–∑ Codex 5.2
‚îú‚îÄ‚îÄ tests/e2e/
‚îÇ   ‚îî‚îÄ‚îÄ smoke.spec.ts   # Playwright smoke-—Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ playwright.config.ts
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ DEVLOG.md           # –õ–æ–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è cherry-pick –≤ main
‚îú‚îÄ‚îÄ CLAUDE.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ README.md           # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é
```

## –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–¥–∞

- –í–µ—Å—å CSS ‚Äî –≤ style.css, –Ω–µ inline
- –ú–æ–±–∏–ª—å–Ω—ã–π viewport –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω: `<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">`
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω: mobile-first, flexbox/grid, –Ω–∏–∫–∞–∫–∏—Ö —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∏–∫—Å–µ–ª–µ–π –¥–ª—è —à–∏—Ä–∏–Ω—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Telegram –¥–ª—è —Ü–≤–µ—Ç–æ–≤ —Ç–µ–º—ã:
  - `var(--tg-theme-bg-color)` ‚Äî —Ñ–æ–Ω
  - `var(--tg-theme-text-color)` ‚Äî —Ç–µ–∫—Å—Ç
  - `var(--tg-theme-button-color)` ‚Äî –∫–Ω–æ–ø–∫–∏
  - `var(--tg-theme-button-text-color)` ‚Äî —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–æ–∫
  - `var(--tg-theme-hint-color)` ‚Äî –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
  - `var(--tg-theme-link-color)` ‚Äî —Å—Å—ã–ª–∫–∏
  - `var(--tg-theme-secondary-bg-color)` ‚Äî –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Ñ–æ–Ω
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp –≤ app.js:
  ```js
  const tg = window.Telegram.WebApp;
  tg.ready();
  tg.expand();
  ```
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å alert/confirm/prompt ‚Äî –æ–Ω–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ WebView
- –ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã: –º–∏–Ω–∏–º—É–º 44√ó44px (touch target)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ safe area insets (–≤—ã—Ä–µ–∑—ã, —Å–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–µ —É–≥–ª—ã)

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º —É–±–µ–¥–∏—Å—å:
1. HTML –≤–∞–ª–∏–¥–µ–Ω (–Ω–µ—Ç –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã—Ö —Ç–µ–≥–æ–≤)
2. –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ console
3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∏ —à–∏—Ä–∏–Ω–µ 320px‚Äì1024px
4. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ü–≤–µ—Ç–∞ —Ç–µ–º—ã Telegram, –∞ –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥
5. `npx playwright test` ‚Äî smoke-—Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

---

## –ú—É–ª—å—Ç–∏-–∞–≥–µ–Ω—Ç–Ω—ã–π workflow (CI)

GitHub Actions –∑–∞–ø—É—Å–∫–∞–µ—Ç 5-—Ñ–∞–∑–Ω—ã–π pipeline –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ issue:

```
Phase 1: Plan     ‚Äî Claude (Opus) —á–∏—Ç–∞–µ—Ç issue, –ø–∏—à–µ—Ç –ø–ª–∞–Ω –≤ /tmp/plan.md
Phase 2: Review   ‚Äî Codex 5.2 —Ä–µ–≤—å—é–∏—Ç –ø–ª–∞–Ω, –∑–∞–º–µ—á–∞–Ω–∏—è –≤ /tmp/codex-plan-review.txt
Phase 3: Implement ‚Äî Claude —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å —É—á—ë—Ç–æ–º –ø–ª–∞–Ω–∞ + –∑–∞–º–µ—á–∞–Ω–∏–π Codex
Phase 4: Code Review ‚Äî Codex —Ä–µ–≤—å—é–∏—Ç diff, Claude —Ñ–∏–∫—Å–∏—Ç –∑–∞–º–µ—á–∞–Ω–∏—è (1 –ø—Ä–æ—Ö–æ–¥)
Phase 5: E2E Tests ‚Äî Playwright smoke-—Ç–µ—Å—Ç—ã, –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö Claude –∞–≤—Ç–æ—Ñ–∏–∫—Å–∏—Ç
```

–í—Å–µ —Ñ–∞–∑—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç —Å—Ç–∞—Ç—É—Å –≤ Telegram —á–µ—Ä–µ–∑ `notify.sh`.
–ï—Å–ª–∏ Opus –Ω–µ —Å–ø—Ä–∞–≤–∏–ª—Å—è ‚Äî fallback –Ω–∞ Sonnet.

### –°–µ–∫—Ä–µ—Ç—ã (GitHub Actions)
- `CLAUDE_CODE_OAUTH_TOKEN` ‚Äî –¥–ª—è Claude Code CLI
- `OPENAI_API_KEY` ‚Äî –¥–ª—è Codex 5.2 review
- `BOT_WEBHOOK_URL` ‚Äî URL –±–æ—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram

---

## ‚ö†Ô∏è –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

**–ü–ï–†–í–´–ú –î–ï–õ–û–ú** –ø—Ä–∏ –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ª—é–±–æ–π –∑–∞–¥–∞—á–µ–π –≤—ã–ø–æ–ª–Ω–∏:
```bash
./notify.sh plan "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —á—Ç–æ –±—É–¥–µ—à—å –¥–µ–ª–∞—Ç—å"
```

–≠—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É –≤ Telegram. –ë–µ–∑ —ç—Ç–æ–≥–æ —à–∞–≥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –∑–Ω–∞–µ—Ç —á—Ç–æ —Ç—ã –¥–µ–ª–∞–µ—à—å.

### –ö–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ

```bash
./notify.sh <—Ç–∏–ø> <—Å–æ–æ–±—â–µ–Ω–∏–µ>
```

–¢–∏–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π:
- `plan` ‚Äî üìã –æ–ø–∏—Å–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ —Ä–∞–±–æ—Ç—ã
- `progress` ‚Äî ‚è≥ –ø—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `question` ‚Äî ‚ùì –≤–æ–ø—Ä–æ—Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É (–Ω–æ –æ—Ç–≤–µ—Ç–∞ –Ω–µ –∂–¥–∏, –ø—Ä–æ–¥–æ–ª–∂–∞–π —Ä–∞–±–æ—Ç—É)
- `done` ‚Äî ‚úÖ –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- `error` ‚Äî ‚ö†Ô∏è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞
- `info` ‚Äî üí¨ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä—ã

```bash
# –í –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—Ç—ã ‚Äî —Ä–∞—Å—Å–∫–∞–∂–∏ –ø–ª–∞–Ω
./notify.sh plan "–ù–∞—à—ë–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç GameBoard. –ü–ª–∞–Ω: 1) –ò–∑–º–µ–Ω—é —Ä–∞–∑–º–µ—Ä –∫–Ω–æ–ø–æ–∫ 2) –î–æ–±–∞–≤–ª—é –æ—Ç—Å—Ç—É–ø—ã 3) –ü—Ä–æ–≤–µ—Ä—é –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º viewport"

# –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã
./notify.sh error "–§–∞–π–ª style.css –∏—Å–ø–æ–ª—å–∑—É–µ—Ç !important –≤–µ–∑–¥–µ ‚Äî —ç—Ç–æ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –¥—Ä—É–≥–∏–µ —Å—Ç–∏–ª–∏. –ü—Ä–æ–¥–æ–ª–∂–∞—é –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ."

# –ö–æ–≥–¥–∞ –Ω–∞—à—ë–ª —á—Ç–æ-—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ
./notify.sh info "–û–±–Ω–∞—Ä—É–∂–∏–ª —á—Ç–æ –∫–Ω–æ–ø–∫–∞ —É–∂–µ –∏–º–µ–µ—Ç hover —ç—Ñ—Ñ–µ–∫—Ç, —Å–æ—Ö—Ä–∞–Ω—é –µ–≥–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö"
```

### –í–∞–∂–Ω–æ

- **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –æ—Ç–ø—Ä–∞–≤—å –ø–ª–∞–Ω –≤ –Ω–∞—á–∞–ª–µ —Ä–∞–±–æ—Ç—ã** ‚Äî `./notify.sh plan "..."` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–≤–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- –°–æ–æ–±—â–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–º–∏ –∏ –ø–æ –¥–µ–ª—É (1-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
- –ù–µ –∂–¥–∏ –æ—Ç–≤–µ—Ç–∞ ‚Äî —Å–æ–æ–±—â–µ–Ω–∏—è –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ
- –ü—Ä–∏ —Å–µ—Ä—å—ë–∑–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö –≤—Å—ë —Ä–∞–≤–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞–π —Ä–∞–±–æ—Ç—É, –Ω–æ —Å–æ–æ–±—â–∏ –æ –Ω–∏—Ö

---

## üìù –í–µ–¥–µ–Ω–∏–µ –ª–æ–≥–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π (DEVLOG.md)

**–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç—ã –û–ë–Ø–ó–ê–ù –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ DEVLOG.md.**

–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ ‚Äî –ª–æ–≥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–±–æ—Ä–æ—á–Ω–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ main.

### –§–æ—Ä–º–∞—Ç –∑–∞–ø–∏—Å–∏

–î–æ–±–∞–≤–ª—è–π –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å **–í –ù–ê–ß–ê–õ–û —Ñ–∞–π–ª–∞** (—Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `# Development Log`), –∏—Å–ø–æ–ª—å–∑—É—è —ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω:

```markdown
## #<–Ω–æ–º–µ—Ä_issue> ‚Äî <–Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏>
**–î–∞—Ç–∞:** <YYYY-MM-DD>  
**–í–µ—Ç–∫–∞:** <—Ç–µ–∫—É—â–∞—è –≤–µ—Ç–∫–∞>  
**–ö–æ–º–º–∏—Ç:** `<–∫–æ—Ä–æ—Ç–∫–∏–π SHA>`  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –≥–æ—Ç–æ–≤–æ –∫ –ø–µ—Ä–µ–Ω–æ—Å—É

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ
<1-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ–ø–∏—Å—ã–≤–∞—é—â–∏–µ —Å—É—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π>

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `—Ñ–∞–π–ª1.js` ‚Äî <—á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ>
- `—Ñ–∞–π–ª2.css` ‚Äî <—á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ>

### –ö–∞–∫ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ main
git cherry-pick <–ø–æ–ª–Ω—ã–π SHA –∫–æ–º–º–∏—Ç–∞>

---
```

### –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã

1. `./notify.sh plan "..."` ‚Äî —Å–æ–æ–±—â–∏ –ø–ª–∞–Ω
2. –í—ã–ø–æ–ª–Ω–∏ –∑–∞–¥–∞—á—É
3. `git add -A && git commit -m "feat: <–Ω–∞–∑–≤–∞–Ω–∏–µ> (#<–Ω–æ–º–µ—Ä>)"`
4. –ü–æ–ª—É—á–∏ SHA: `COMMIT_SHA=$(git rev-parse HEAD)`
5. **–î–æ–±–∞–≤—å –∑–∞–ø–∏—Å—å –≤ DEVLOG.md** (–≤ –Ω–∞—á–∞–ª–æ, –ø–æ—Å–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞)
6. `git add DEVLOG.md && git commit --amend --no-edit`
7. `git push origin <–≤–µ—Ç–∫–∞>`
